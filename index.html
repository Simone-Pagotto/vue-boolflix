<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Netflix</title>

		<!-- CSS Frameworks -->
		<!-- Boostrap 4.5.3 (CDN) -->
		<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"> -->

		<!-- Font Awesome 5.15.1 (CDN) -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
		<!-- VUE 2.x development version, includes helpful console warnings -->
		<!-- CDN -->
		<!-- <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script> -->
		<!-- Static (v2.6.12) -->
		<script src="libs/vue.js" charset="utf-8"></script>
		<!-- AXIOS cdn v0.21.0 -->
		<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

		<!-- Custom CSS -->
		<link rel="stylesheet" href="css/style.css">

		<!-- Custom JS Functions -->
		<script src="js/functions.js" charset="utf-8"></script>
	</head>
	<body>

		<!-- VUE root element -->
		<div id="root">
			<div class="navbar">
				<img src="img/netflix-logo.webp" alt="logo netflix">
				
				<div class="bar-container " :class="isSearchActive ? 'bg-white' : 'bg-dark'">
					<div @click="isSearchActive=!isSearchActive"><i class="fas fa-search"></i></div>
					<input class="inputSearch" :class="isSearchActive ? null : 'inactive'" 
							type="text" v-model="searchInput" v-on:keyup.enter="filterFilms"
							placeholder="Cerca Film e serie TV...">
				</div>

				<!-- <input class="inputSearch"  type="text" v-model="searchInput"
					v-on:keyup.enter="filterFilms"> -->
				 
			</div>
			<div class="search-results">
				<div class="cards-container container" >
					<div class="card" v-for="film in films">
						<!-- film template -->
						<template v-if="isFilm(film)">
							<div class="poster">
								<img v-on:error="nullImg" :src="showPoster(film.poster_path)" alt="">
							</div>
							<div class="info">
								<div class="titles">
									<h3><strong>Titolo : </strong>{{film.title}}</h3>
									<h3><strong>Titolo originale : </strong>{{film.original_title}}</h3>
								</div>
								<h3><strong>Trama : </strong>{{film.overview}}</h3>
								<h3><strong>Cast : </strong><span v-for="(actor,index) in film.cast">{{actor.name}}{{index === (nActors-1) ? '.':', '}}</span></h3>
								<h3><strong>Genre : </strong><span v-for="(genre,index) in film.genre_ids">{{showGenre(genre)}}{{index === (film.genre_ids.length-1)? '.':', ' }}</span></h3>
								<!-- generazione flag -->
								<img v-if="languageFlags.includes(film.original_language)" :src="showFlag(film.original_language)" alt="">
								<img v-else :src="'img/error-circle.svg'" alt="ERROR">
								<!-- voto con stelle -->
								<ul>
									<li v-for="(n,index) in nStarVote" class="vote">
										<i :class="voteToStars(film) <= index ? 'far' : 'fas'" class="fa-star"></i>
									</li>
								</ul>
							</div>
						</template>
						<!-- serie tv template -->
						<template v-else>
							<div class="poster">
								<img v-on:error="nullImg" :src="showPoster(film.poster_path)" alt="">
							</div>
						
							<div class="info">
								<div class="titles">
									<h3><strong>Titolo : </strong>{{film.name}}</h3>
									<h3><strong>Titolo originale : </strong>{{film.original_name}}</h3>
								</div>
								<h3><strong>Trama : </strong>{{film.overview}}</h3>
								<h3><strong>Cast : </strong><span v-for="(actor,index) in film.cast">{{actor.name}}{{index === (nActors-1) ? '.':', '}}</span></h3>
								<h3><strong>Genre : </strong><span v-for="(genre,index) in film.genre_ids">{{showGenre(genre)}}{{index === (film.genre_ids.length-1)? '.':', ' }}</span></h3>
								<!-- generazione flag -->
								<img v-if="languageFlags.includes(film.original_language)" :src="showFlag(film.original_language)" alt="">
								<img v-else :src="'img/error-circle.svg'" alt="ERROR">
								<!-- voto con stelle -->
								<ul>
									<li v-for="(n,index) in nStarVote" class="vote">
										<i :class="voteToStars(film) <= index ? 'far' : 'fas'" class="fa-star"></i>
									</li>
								</ul>
							</div>
						</template>
					</div>
					
			    </div>				
			</div>
		</div>
		<!-- Custom JS -->
		<script src="js/main.js" charset="utf-8"></script>
	</body>
</html>
